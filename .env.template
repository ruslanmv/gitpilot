# GitPilot Environment Configuration
# Copy this file to .env and fill in your credentials
# These values will be used if not configured via the Admin UI

# =============================================================================
# GitHub Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Authentication Mode
# -----------------------------------------------------------------------------
# Choose authentication mode: pat, oauth, app, hybrid (default: hybrid)
# - pat: Personal Access Token (simple, for development)
# - oauth: User OAuth (for user authentication)
# - app: GitHub App (for repository access via app installation)
# - hybrid: OAuth + App (recommended for enterprise)
GITPILOT_GITHUB_AUTH_MODE=hybrid

# -----------------------------------------------------------------------------
# Option 1: Personal Access Token (PAT) - Simple Setup
# -----------------------------------------------------------------------------
# Required for 'pat' mode or as fallback
# Get yours at: https://github.com/settings/tokens
# Needs 'repo' scope for private repos, 'public_repo' for public repos
GITPILOT_GITHUB_TOKEN=

# Alternative variable name (either works)
# GITHUB_TOKEN=

# -----------------------------------------------------------------------------
# Option 2: GitHub OAuth (User Authentication)
# -----------------------------------------------------------------------------
# Required for 'oauth' or 'hybrid' mode
# Create a GitHub OAuth App at: https://github.com/settings/developers
# Set callback URL to: http://localhost:8000/auth/callback (or your domain)
GITPILOT_OAUTH_CLIENT_ID=
GITPILOT_OAUTH_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Option 3: GitHub App (Repository Access)
# -----------------------------------------------------------------------------
# Required for 'app' or 'hybrid' mode
# Create a GitHub App at: https://github.com/settings/apps/new
# Required permissions: Contents (read/write), Issues, Pull requests

# GitHub App ID
GITPILOT_GH_APP_ID=

# GitHub App Installation ID (get after installing app on repos)
GITPILOT_GH_APP_INSTALLATION_ID=

# GitHub App Private Key (base64 encoded)
# To encode: cat your-app.pem | base64 -w 0
GITPILOT_GH_APP_PRIVATE_KEY_BASE64=

# GitHub App Client ID (for OAuth flow)
GITPILOT_GH_APP_CLIENT_ID=

# GitHub App Client Secret (for OAuth flow)
GITPILOT_GH_APP_CLIENT_SECRET=

# GitHub App Slug (app name in URL)
# e.g., for https://github.com/apps/gitpilota, slug is "gitpilota"
# Note: "gitpilot" (without 'a') is already taken, use "gitpilota" or a custom name
GITPILOT_GH_APP_SLUG=

# =============================================================================
# LLM Provider Selection
# =============================================================================
# Choose your default provider: openai, claude, watsonx, ollama
GITPILOT_PROVIDER=openai

# =============================================================================
# OpenAI Configuration
# =============================================================================
# Get your API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Optional: Override default model (default: gpt-4o-mini)
GITPILOT_OPENAI_MODEL=gpt-4o-mini

# Optional: Custom base URL (for Azure OpenAI or API proxies)
# OPENAI_BASE_URL=

# =============================================================================
# Claude (Anthropic) Configuration
# =============================================================================
# Get your API key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Optional: Override default model (default: claude-3-5-sonnet-20241022)
GITPILOT_CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Optional: Custom base URL (for API proxies)
# ANTHROPIC_BASE_URL=

# =============================================================================
# IBM Watsonx.ai Configuration
# =============================================================================
# Get your credentials at: https://cloud.ibm.com/
WATSONX_API_KEY=
WATSONX_PROJECT_ID=

# Optional: Override default model (default: meta-llama/llama-3-1-70b-instruct)
GITPILOT_WATSONX_MODEL=meta-llama/llama-3-1-70b-instruct

# Optional: Override default base URL (default: https://api.watsonx.ai/v1)
# WATSONX_BASE_URL=https://api.watsonx.ai/v1

# =============================================================================
# Ollama Configuration (Local LLMs)
# =============================================================================
# Ollama base URL (default: http://localhost:11434)
OLLAMA_BASE_URL=http://localhost:11434

# Model to use with Ollama (default: llama3)
GITPILOT_OLLAMA_MODEL=llama3

# =============================================================================
# LangFlow Integration (Optional)
# =============================================================================
# LangFlow server URL
# GITPILOT_LANGFLOW_URL=http://localhost:7860

# LangFlow API key
# GITPILOT_LANGFLOW_API_KEY=

# LangFlow plan flow ID
# GITPILOT_LANGFLOW_PLAN_FLOW_ID=

# =============================================================================
# Server Configuration
# =============================================================================
# Host to bind the server (default: 127.0.0.1)
# GITPILOT_HOST=127.0.0.1

# Port to run the server (default: 8000)
# GITPILOT_PORT=8000

# Enable debug mode (default: false)
# GITPILOT_DEBUG=false

# =============================================================================
# Notes
# =============================================================================
# 1. You only need to configure the provider you plan to use
# 2. Environment variables take precedence over Admin UI settings
# 3. Admin UI settings are stored in ~/.gitpilot/settings.json
# 4. For production, use environment variables or secret management
# 5. Never commit this file with real credentials!
#
# =============================================================================
# Quick Start Guide
# =============================================================================
#
# OPTION A: Simple Setup (Development)
# -------------------------------------
# 1. Create a Personal Access Token at https://github.com/settings/tokens
# 2. Set GITPILOT_GITHUB_TOKEN above
# 3. Set your preferred LLM provider credentials (OpenAI, Claude, etc.)
# 4. Run: gitpilot
#
# OPTION B: Enterprise Setup (Production)
# ----------------------------------------
# 1. Create a GitHub OAuth App at https://github.com/settings/developers
#    - Set callback URL: http://your-domain.com/auth/callback
#    - Copy Client ID and Client Secret
#
# 2. Create a GitHub App at https://github.com/settings/apps/new
#    - Set permissions: Contents (read/write), Issues, Pull requests
#    - Generate and download private key
#    - Install the app on your repositories
#    - Copy App ID, Installation ID, Client ID, Client Secret
#
# 3. Configure the GitHub OAuth and App settings above
#
# 4. Set GITPILOT_GITHUB_AUTH_MODE=hybrid
#
# 5. Set your preferred LLM provider credentials
#
# 6. Run: gitpilot login
#    - Follow the OAuth flow to authenticate
#
# 7. Run: gitpilot
#    - Access the web UI and select repositories
